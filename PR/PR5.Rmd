---
title: "PR5"
author: "이유빈"
date: "2018년 10월 11일"
output: word_document
---

# 조건문과 반복문
## 1. 반복문
- 동일한 연산을 여러번 반복하고 싶은때 사용합니다.

## 1.1 for()
- 데이터를 순서대로 i로 받아서 사용함
```{r}
a <- c(1,2,4) ; a
for(i in a) print(i) #i에 a를 넣어 프린트
for(i in c(1,2,4)) #i에 1,2,4를 넣어 프린트
    print(i)
string=c("test","for","for()")
for(i in string)
  print(i)
for (i in c("test","for","for()"))
     print(i)
```

- for문에서 {}없이 연산을 할 경우, for문에 첫 명령문만 반복되고 그 다음줄은 별개의 코드로 인식
```{r}
for (i in 1:3)
  print(i)
print("다음줄")
print(i+1)
```

- 여러 연산을 같이 반복하고 싶다면 {}안에 명령문을 작성해야함
```{r}
for(i in 1:3){
  print(i)
  print("다음줄")
  print(i+1)
}     #i에 1~3넣어서 아래 3줄 반복출력 
```

- 응용, vector의 짝수번째 데이터들만 출력하기
```{r}
j <- 1:6
for(i in seq(2,6,by=2)){
  #j의 짝수번 순서
  print(paste0(i,"번째 데이터:"))
  #짝수번째 데이터만 불러와짐
  print(j[i])
}
```

- 꼭 i를 쓰지 않아도 됨
```{r}
for (a in 1:10)
  print(a)
```

- break라는 명령어를 수행하면 반복문은 종료됨
```{r}
for(i in 1:10){
  print(i)
  break
}
```

## 1.2 while()문
- while문은 조건식과 같이 사용, 주어진 조건식이 참일경우 반복수행
- while(조건){명령문}: 조건이 참일때 명령문을 실행
- 주의사항: 조건이 계속 참이면 무한반복이 발생함
```{r}
i=1
while(i<5){
  print(i)
  i=i+1
} #i가 5보다 작을때까지 while loop
```

## 1.3 repeat
- 반복과 정지에 대한 조건문을 활용하여 명령문을 반복함
```{r}
i <- 1
repeat{
  i <- i+30
  if(i>100)break
  print(i)
} #i가 100보다 크면 루프 탈출하는 반복.
```

## 2. 조건문
## 2.1 if문과 if-else문
- 'if(조건식)연산'의 방법으로 사용
- 단순 if문은 "if(조건)명령문"의 형태로 작성
```{r}
x = 80
if(x<=90) print("B") #x가 90이하면 B출력
if(x<=80) print("C") #x가 80이하면 C출력
```
- 여러개의 명령문을 수행할땐 {}연산자 사용
- 명령문 추가줄 줄바꿈하여 작성
```{r}
x <- 91
if(x>90){
  print("B")
  x=x+10
  print(x)
}
```
- 단순 if=else문은 "if(조건){조건이 참일때 명령문} else{조건이 거짓일때 명령문}"의 형태로 작성
```{r}
x=91
if(x<=90) print("B") else print("C") #x가 90d이하면 B출력 아니면 C출력
if(x<90){
  print("B")
  x=x+10
}else{
  print("C")
} #x가 90보다 작으면 B 아니면 C출력
```
- if와 else를 사용해서 2개 이상의 조건문을 만들고 싶을때 else if를 사용
- else if는 else인 조건상황에서 다시 if문 조건을 쓸때 사용
```{r}
x <- 100
if(x<70){
  print("F")
}else if(x<80) {
  print("C")
}else if(x<90) {
  print("B")
}else {
  print("A")
} #x<-100인 상태로 70보다 작으면 F, 70~80보다 작으면 C, 80~90보다 작으면 B 아니면 A
```

## 2.2 ifelse
- 한줄의 명령문으로 조건이 참일때와 거짓일때 따라 명령문을 수행
- ifelse(조건식, 참일때 실행할 내용, 거짓일때 실행할 내용)
```{r}
x=10
ifelse(x>5,x+5,x-5)
```

## 3. 조건문과 반복문 함께 사용하기
- x의 데이터 중 짝수만 출력하도록 함
```{r}
x<-1:10 #x에 1~10의 값을 할당
for(i in x){ #i에 x의 값을 차례대로 넣어서
  if(i%%2==0){ #그 값이 2로 나눠 떨어지면(짝수이면)
    print(i) #그 값을 출력
  }
}
```

## 연습문제
## 문제1
- 여러분이 영화리뷰를 크롤링해야하는 상황이라고 가정하겠습니다.
- 영화리뷰를 크롤링하려면 리뷰 페이지의 링크를 코드에 삽입해야합니다.
- 그런데 리뷰가 페이지당 10개씩 수백페이지가 직접 다 작성하기가 힘듭니다.
- 아래와 같은 링크의 마지막 숫자만 바뀌는 링크주소를 100개 만들어야합니다.
- 100페이지까지 링크주소를 만들어서 벡터에 저장하시기 바랍니다.
## 문제를 푸는 방법
- 1) 먼저 빈 벡터를 만들고(벡터명=NULL)
- 2) for문을 활용해 마지막 숫자가 바뀌는 링크주소가 만들어지도록 한다. (paste0함수사용)
- 3) 기존에 만들어진 벡터에 링크주소를 하나씩 추가되도록 한다.(append함수 사용)
```{r}
address<- NULL #addres라는 벡터에 NULL 할당 
for(i in seq(1,100,by=1)){
  paste0("http://movie.daum.net/moviedb/grade?movieId=95554&type=netizen&page=",i) #paste0함수를 사용하여 마지막 숫자가 바뀌는 링크주소 만들기 
  address<-append(address,paste0("http://movie.daum.net/moviedb/grade?movieId=95554&type=netizen&page=",i)) #address에 링크주소가 하나씩 추가 
}
print(address) #adrress벡터를 출력
```

## 문제2 - 구구단(2단) 출력하는 for문을 작성하시오
- 다음과 같이 출력되도록 해보세요.
```{r}
for (i in 1:9) #곱해주는 숫자를 1부터 9라고 함 
  print(paste0("2*",i,"=",2*i)) #paste0을 사용하여 연결해서 나오게 함
```

## 문제3 - 1부터 1000사이에 3이라는 숫자가 총 몇번 나오는지 구하세요.
- 3이 들어있는 숫자가 아니라 3이라는 숫자를 모두 카운팅해야 합니다.
- ex) 333은 3, 303은 2로 카운팅 해야함.
- hint: %/%-몫을 구하는 연산자, %%-나머지를 구하는 연산자. ex) 13%/%5는 2, 13%%5는 3
```{r}
m <- 0 #a에 0을 할당 
for(i in 1:1000){ #i가 1부터 1000
  if(i%%10==3){ #i를 10으로 나누ㅇ 나머지가 3인 숫자를 구하라는 식이다. 즉, 1의 자리가 3이면 m에 1을 추가하는 것이다.
    m <- m+1}
  if((i%/%10)%%10==3){ #i를 10으로 나누어 몫을 구하고 그 몫을 다시 10으로 나누어 나머지가 3인 숫자를 구하라는 식이다. 즉, 10의 자리가 3이면 m에 1을 추가하는 것이다. 
    m <- m+1}
  if((i%/%100)%%10==3){ #i를 100으로 나누어 몫을 구하고 그 몫을 다시 10으로 나누어 나머지가 3인 숫자를 구하라는 식이다. 즉, 100의 자리가 3이면 m에 1을 추가하는 것이다.
    m <- m+1}
}
print(m)
```